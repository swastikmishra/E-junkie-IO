{"version":3,"sources":["webpack:///src/components/Page.vue","webpack:///./src/components/Page.vue?d1c2","webpack:///./src/components/Page.vue"],"names":["Page","name","[object Object]","key","this","$route","params","content","yaml","title","description","author","keywords","template","folder","editor","preview","frontmatter","iframeElement","converter","savingPage","showNewPageInfo","codeMirror","selectedTheme","selectedFontSize","wordWrap","availableThemes","Folders","mounted","$notify","info","message","self","axios","post","then","response","data","catch","e","showdown","Converter","smoothPreview","window","addEventListener","keyboardEvent","injectCodeMirror","updateIframe","watch","val","myCodeMirror","setOption","methods","ev","ctrlKey","preventDefault","saveChanges","updateChanges","contentDocument","getElementById","innerHTML","makeHtml","loading","$loading","lock","text","spinner","background","toLowerCase","page","getValue","replace","setTimeout","close","$message","showClose","type","CodeMirror","keyMap","sublime","tA","document","elt","parentNode","replaceChild","value","lineNumbers","mode","autoCloseBrackets","matchBrackets","showCursorWhenSelecting","tabSize","theme","on","cMirror","open","write","destroyed","removeEventListener","components_Page","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","staticStyle","margin-bottom","_v","_s","show-icon","_e","size","icon","plain","click","$event","$router","push","path","class","column","is-6","is-12","is-11","is-1","active","ion-md-arrow-dropdown-circle","ion-md-arrow-dropup-circle","placeholder","clearable","model","callback","$$v","expression","width","$set","_l","k","label","display","text-align","margin-right","margin-top","active-color","inactive-color","active-text","inactive-text","min","max","step","item","style","fontSize","directives","rawName","domProps","input","target","composing","ion-md-arrow-dropright-circle","ion-md-arrow-dropleft-circle","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.d74e8df88700edfcb22f.js","sourcesContent":["<template>\n  <div id=\"page\">\n  \t<div class=\"columns is-multiline\">\n      <div style=\"margin-bottom: -10px;\" class=\"column is-12 has-text-right\" v-if=\"Page\">\n        <h2>{{Page.yaml.title}}</h2>\n        <el-alert\n          title=\"You can preview the page once you save\"\n          type=\"info\"\n          show-icon\n          v-if=\"showNewPageInfo\">\n        </el-alert>\n        <el-button @click=\"saveChanges()\" size=\"small\"  icon=\"el-icon-circle-check\"type=\"success\" plain :loading=\"savingPage\">Save Page</el-button>\n        <el-button @click=\"$router.push({ path: '/pages' })\" size=\"small\" icon=\"el-icon-circle-close\" type=\"danger\" plain>Discard Page</el-button>\n      </div>\n  \t\t<div v-bind:class=\"{ 'column': true, 'is-6': (editor || frontmatter) && preview, 'is-12': showNewPageInfo, 'is-11': !preview, 'is-1': !editor && !frontmatter && preview}\">\n  \t\t\t<div class=\"box details\">\n\t\t  \t\t<div class=\"box-title\">\n\t\t  \t\t\t<i @click=\"frontmatter = !frontmatter\" :class=\"{'active':frontmatter, 'icon':true, 'ion-md-arrow-dropdown-circle':!frontmatter, 'ion-md-arrow-dropup-circle':frontmatter}\"></i>\n\t\t  \t\t\tFrontmatter\n\t\t  \t\t</div>\n\t\t  \t\t<div class=\"box-content frontmatter\" v-if=\"frontmatter && Page\">\n            <p>Page <el-input placeholder=\"Page\" clearable size=\"mini\" v-model=\"key\"></el-input></p>\n            <!-- <p>Folder <el-input placeholder=\"Folder\" clearable size=\"mini\" v-model=\"folder\"></el-input></p> -->\n            <p>Folder<br/>\n              <el-select style=\"width: 100%\" size=\"mini\" v-model=\"Page.yaml.folder\" clearable placeholder=\"Select Folder\">\n                <el-option\n                  v-for=\"folder,k in Folders\"\n                  :key=\"k\"\n                  :label=\"k\"\n                  :value=\"k\">\n                </el-option>\n              </el-select>\n            </p>\n            <p>Title <el-input placeholder=\"Title\" clearable size=\"mini\" v-model=\"Page.yaml.title\"></el-input></p>\n            <p>Description <el-input placeholder=\"Description\" clearable size=\"mini\" v-model=\"Page.yaml.description\"></el-input></p>\n            <p>Author <el-input placeholder=\"Author\" clearable size=\"mini\" v-model=\"Page.yaml.author\"></el-input></p>\n            <p>Keywords <el-input placeholder=\"Keywords\" clearable size=\"mini\" v-model=\"Page.yaml.keywords\"></el-input></p>\n            <p>Template <el-input placeholder=\"Template\" clearable size=\"mini\" v-model=\"Page.yaml.template\"></el-input></p>\n\t\t  \t\t</div>\n\t\t\t</div>\n  \t\t\t<div class=\"box details content\">\n\t\t  \t\t<div class=\"box-title\">\n\t\t  \t\t\t<i @click=\"editor = !editor\" :class=\"{'active':editor, 'icon':true, 'ion-md-arrow-dropdown-circle':!editor, 'ion-md-arrow-dropup-circle':editor}\"></i>\n\t\t  \t\t\tContent\n\t\t  \t\t</div>\n\t\t  \t\t<div class=\"box-content\" v-if=\"editor && Page\">\n            <div style=\"margin-bottom: 10px; display: block; text-align:right;\">\n                <el-switch\n                style=\"display: inline-block;margin-right: 10px;margin-top: -3px;\"\n                v-model=\"wordWrap\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                active-text=\"Wordwrap\"\n                inactive-text=\"\">\n              </el-switch>\n                <el-input-number :min=\"10\" :max=\"20\" :step=\"2\" size=\"mini\" v-model=\"selectedFontSize\"></el-input-number>\n                <el-select v-model=\"selectedTheme\" placeholder=\"Select Theme\" size=\"mini\">\n                <el-option\n                  v-for=\"item in availableThemes\"\n                  :key=\"item\"\n                  :label=\"item\"\n                  :value=\"item\">\n                </el-option>\n              </el-select>\n            </div>\n            <div v-bind:style=\"{ fontSize: selectedFontSize + 'px' }\">\n              <textarea id=\"pageEditorTextarea\" @input=\"updateChanges\" v-model=\"Page.content\"></textarea>\n            </div>\n\t\t  \t\t</div>\n\t\t\t</div>\n  \t\t</div>\n  \t\t<div v-if=\"!showNewPageInfo\" v-bind:class=\"{ 'column': true, 'is-6': (editor || frontmatter) && preview, 'is-11': !editor && !frontmatter, 'is-1': (editor || frontmatter) && !preview}\">\n  \t\t\t<div class=\"box details\">\n\t\t  \t\t<div class=\"box-title\">\n\t\t  \t\t\t<i @click=\"preview = !preview\" :class=\"{'active':preview, 'icon':true, 'ion-md-arrow-dropright-circle':preview, 'ion-md-arrow-dropleft-circle': !preview}\"></i>\n\t\t  \t\t\tPreview\n            <span v-if=\"!editor && !frontmatter\">(Desktop)</span>\n            <span v-else>(Mobile)</span>\n\t\t  \t\t</div>\n\t\t  \t\t<div class=\"box-content\" v-if=\"Page\">\n\t\t  \t\t\t<iframe id=\"previewIframe\" class=\"previewIframe\"></iframe>\n\t\t  \t\t</div>\n\t\t\t</div>\n  \t\t</div>\n  \t</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Page',\n  data () {\n    return {\n    \tkey: this.$route.params[0],\n    \tPage: {\n        content : \"\",\n        yaml : {\n          title: \"\",\n          description: \"\",\n          author: \"\",\n          keywords: \"\",\n          template: \"static\",\n          folder: null,\n        },\n      },\n    \teditor: true,\n    \tpreview: true,\n    \tfrontmatter: true,\n      iframeElement: null,\n      converter: null,\n      savingPage: false,\n      showNewPageInfo: false,\n      codeMirror: null,\n      selectedTheme: 'monokai',\n      selectedFontSize: 14,\n      wordWrap: false,\n      availableThemes: [\n        'default','3024-day','3024-night','abcdef','ambiance','base16-dark','base16-light','bespin','blackboard','cobalt','colorforth','darcula','dracula','duotone-dark','duotone-light','eclipse','elegant','erlang-dark','gruvbox-dark','hopscotch','icecoder','idea','isotope','lesser-dark','liquibyte','lucario','material','mbo','mdn-like','midnight','monokai','neat','neo','night','oceanic-next','panda-syntax','paraiso-dark','paraiso-light','pastel-on-dark','railscasts','rubyblue','seti','shadowfox','solarized dark','solarized light','the-matrix','tomorrow-night-bright','tomorrow-night-eighties','ttcn','twilight','vibrant-ink','xq-dark','xq-light','yeti','zenburn',\n      ],\n      Folders: [],\n    }\n  },\n  mounted: function(){\n    this.$notify.info({\n      title: 'Ctrl+S',\n      message: 'Save the page by pressing Ctrl + S'\n    });\n    var self = this\n    this.axios.post('/api/folders', {\n    })\n    .then(response => {\n      self.Folders = response.data\n    })\n    .catch(e => {\n    })\n    this.converter = new showdown.Converter({\n      smoothPreview: true\n    })\n    window.addEventListener('keydown', self.keyboardEvent, false)\n    if(self.key == \"new\"){\n      self.showNewPageInfo = true\n      self.injectCodeMirror()\n      return false;\n    } \n  \tthis.axios.post('/api/page', {\n      key : self.key,\n    })\n    .then(response => {\n    \tself.Page = response.data\n      self.injectCodeMirror()\n      self.updateIframe()\n    })\n    .catch(e => {\n    })\n  },\n  watch: {\n  \tpreview: function(val){ \n  \t\tif(!this.editor && !this.frontmatter && !this.preview)\n  \t\t\tthis.editor = true\n  \t},\n  \teditor: function(val){ \n\t\tif(!this.editor && !this.frontmatter && !this.preview)\n  \t\t\tthis.editor = true\n        this.injectCodeMirror()\n  \t},\n  \tfrontmatter: function(val){ \n  \t\tif(!this.editor && !this.frontmatter && !this.preview)\n  \t\t\tthis.editor = true\n  \t},\n    selectedTheme: function(val){\n      this.myCodeMirror.setOption(\"theme\", val);\n    },\n    wordWrap: function(val){\n      this.myCodeMirror.setOption(\"lineWrapping\", val);\n    },\n  },\n  methods: {\n    keyboardEvent: function(ev){\n        if(ev.key == \"s\" && ev.ctrlKey){\n          ev.preventDefault()\n          if(this.savingPage) return false\n          this.saveChanges()\n        }\n    },\n    updateChanges: function(){\n      if(this.showNewPageInfo) return false;\n      this.iframeElement.contentDocument.getElementById('EJIO_editor_live_mark').innerHTML = this.converter.makeHtml(this.Page.content);\n    },\n  \tsaveChanges: function(){\n      if(this.myCodeMirror == null) return false\n      this.savingPage = true\n  \t\tvar loading = this.$loading({\n        lock: true,\n        text: 'Updating',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      var self = this\n      var tmpKey = self.Page.yaml.title.toLowerCase()+\".md\"\n  \t\tthis.axios.post('/api/page/save', {\n\t      page: {\n          yaml: self.Page.yaml,\n          content: self.myCodeMirror.getValue()\n        },\n        key: (self.key == \"new\" ? self.Page.yaml.title.toLowerCase().replace(/ /g, \"-\")+\".md\" : self.key ),\n\t    })\n\t    .then(response => {\n\t        setTimeout(() => {\n\t          loading.close();\n\t        }, 100);\n        self.savingPage = false\n        self.$message({\n          showClose: true,\n          message: 'Page saved successfully.',\n          type: 'success'\n        });\n        self.showNewPageInfo = false\n        self.Page = response.data\n        self.updateIframe()\n\t    })\n\t    .catch(e => {\n\t      setTimeout(() => {\n\t          loading.close();\n\t        }, 100);\n        self.savingPage = false\n\t    })\n  \t},\n    injectCodeMirror: function(){\n      var self = this\n      setTimeout(function(){\n        var map = CodeMirror.keyMap.sublime;\n        var tA = document.getElementById(\"pageEditorTextarea\")\n        self.myCodeMirror = CodeMirror(function(elt) {\n            tA.parentNode.replaceChild(elt, tA);\n        }, {value: self.Page.content,\n            lineNumbers: true,\n            mode: \"text/html\",\n            keyMap: \"sublime\",\n            autoCloseBrackets: true,\n            matchBrackets: true,\n            showCursorWhenSelecting: true,\n            tabSize: 2,\n            theme: \"monokai\",\n        }); \n\n        self.myCodeMirror.on('change',function(cMirror){\n          self.Page.content = cMirror.getValue()\n          self.updateChanges()\n        });\n      }, \n      1000)\n    },\n    updateIframe: function(){\n      var self = this\n      setTimeout(function(){\n        if(!self.iframeElement)\n          self.iframeElement = document.getElementById('previewIframe')\n        self.iframeElement.contentDocument.open();\n        self.iframeElement.contentDocument.write(self.Page.page);\n        self.iframeElement.contentDocument.close();\n      }, 1000)\n    }\n  },\n  destroyed: function(){\n    window.removeEventListener('keydown', this.keyboardEvent)\n  },\n}\n</script>\n\n<style scoped>\n.icon{\n\tmargin-right: -24px;\n\tcursor: pointer;\n}\n.icon:hover{\n\tcolor: #ff9800;\n}\n.icon.active{\n\tcolor: #8BC34A;\n}\n.is-1 .icon{\n    float: none;\n    margin: 0 auto;\n}\n.is-1 .box-title{\n\tfont-size: 0px;\n}\n.box.details .box-title{\n\tpadding: 4px;\n}\n.box.details{\n\tmargin-bottom: 10px;\n}\n.content .box-content{\n\tpadding: 2px !important;\n}\n.content .box-title{\n\tmargin-bottom: 0px !important;\n}\n.content textarea{\n\twidth: 100%;\n\tresize: none;\n\tmin-height: 600px;\n\toutline: none;\n  font-family: Source Code Pro;\n  font-size: 14px;\n}\n.previewIframe{\n\twidth: 100%;\n    min-height: 645px;\n    background: #efefef;\n    border-radius: 4px;\n}\n.frontmatter p{\n  margin-bottom: 10px;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 25px;\n}\n.el-input .el-input__inner{\n  border-radius: 2px;\n  background: #1f2b3d;\n  color: white;\n  border: none;\n  font-size: 25px;\n  margin-top: 20px;\n  padding: 0px;\n}\nh2{\n  display: inline-block;\n  width: fit-content;\n  margin-right: 20px;\n  font-size: 20px;\n  color: white;\n  vertical-align: middle;\n  float: left;\n}\n.el-button{\n  display: inline-block;\n}\n.CodeMirror-scroll{\n  min-height: 600px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page\"}},[_c('div',{staticClass:\"columns is-multiline\"},[(_vm.Page)?_c('div',{staticClass:\"column is-12 has-text-right\",staticStyle:{\"margin-bottom\":\"-10px\"}},[_c('h2',[_vm._v(_vm._s(_vm.Page.yaml.title))]),_vm._v(\" \"),(_vm.showNewPageInfo)?_c('el-alert',{attrs:{\"title\":\"You can preview the page once you save\",\"type\":\"info\",\"show-icon\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-circle-check\",\"type\":\"success\",\"plain\":\"\",\"loading\":_vm.savingPage},on:{\"click\":function($event){_vm.saveChanges()}}},[_vm._v(\"Save Page\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-circle-close\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.$router.push({ path: '/pages' })}}},[_vm._v(\"Discard Page\")])],1):_vm._e(),_vm._v(\" \"),_c('div',{class:{ 'column': true, 'is-6': (_vm.editor || _vm.frontmatter) && _vm.preview, 'is-12': _vm.showNewPageInfo, 'is-11': !_vm.preview, 'is-1': !_vm.editor && !_vm.frontmatter && _vm.preview}},[_c('div',{staticClass:\"box details\"},[_c('div',{staticClass:\"box-title\"},[_c('i',{class:{'active':_vm.frontmatter, 'icon':true, 'ion-md-arrow-dropdown-circle':!_vm.frontmatter, 'ion-md-arrow-dropup-circle':_vm.frontmatter},on:{\"click\":function($event){_vm.frontmatter = !_vm.frontmatter}}}),_vm._v(\"\\n\\t\\t  \\t\\t\\tFrontmatter\\n\\t\\t  \\t\\t\")]),_vm._v(\" \"),(_vm.frontmatter && _vm.Page)?_c('div',{staticClass:\"box-content frontmatter\"},[_c('p',[_vm._v(\"Page \"),_c('el-input',{attrs:{\"placeholder\":\"Page\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Folder\"),_c('br'),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"clearable\":\"\",\"placeholder\":\"Select Folder\"},model:{value:(_vm.Page.yaml.folder),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"folder\", $$v)},expression:\"Page.yaml.folder\"}},_vm._l((_vm.Folders),function(folder,k){return _c('el-option',{key:k,attrs:{\"label\":k,\"value\":k}})}))],1),_vm._v(\" \"),_c('p',[_vm._v(\"Title \"),_c('el-input',{attrs:{\"placeholder\":\"Title\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.Page.yaml.title),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"title\", $$v)},expression:\"Page.yaml.title\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Description \"),_c('el-input',{attrs:{\"placeholder\":\"Description\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.Page.yaml.description),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"description\", $$v)},expression:\"Page.yaml.description\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Author \"),_c('el-input',{attrs:{\"placeholder\":\"Author\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.Page.yaml.author),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"author\", $$v)},expression:\"Page.yaml.author\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Keywords \"),_c('el-input',{attrs:{\"placeholder\":\"Keywords\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.Page.yaml.keywords),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"keywords\", $$v)},expression:\"Page.yaml.keywords\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Template \"),_c('el-input',{attrs:{\"placeholder\":\"Template\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.Page.yaml.template),callback:function ($$v) {_vm.$set(_vm.Page.yaml, \"template\", $$v)},expression:\"Page.yaml.template\"}})],1)]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"box details content\"},[_c('div',{staticClass:\"box-title\"},[_c('i',{class:{'active':_vm.editor, 'icon':true, 'ion-md-arrow-dropdown-circle':!_vm.editor, 'ion-md-arrow-dropup-circle':_vm.editor},on:{\"click\":function($event){_vm.editor = !_vm.editor}}}),_vm._v(\"\\n\\t\\t  \\t\\t\\tContent\\n\\t\\t  \\t\\t\")]),_vm._v(\" \"),(_vm.editor && _vm.Page)?_c('div',{staticClass:\"box-content\"},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"display\":\"block\",\"text-align\":\"right\"}},[_c('el-switch',{staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"10px\",\"margin-top\":\"-3px\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"Wordwrap\",\"inactive-text\":\"\"},model:{value:(_vm.wordWrap),callback:function ($$v) {_vm.wordWrap=$$v},expression:\"wordWrap\"}}),_vm._v(\" \"),_c('el-input-number',{attrs:{\"min\":10,\"max\":20,\"step\":2,\"size\":\"mini\"},model:{value:(_vm.selectedFontSize),callback:function ($$v) {_vm.selectedFontSize=$$v},expression:\"selectedFontSize\"}}),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"Select Theme\",\"size\":\"mini\"},model:{value:(_vm.selectedTheme),callback:function ($$v) {_vm.selectedTheme=$$v},expression:\"selectedTheme\"}},_vm._l((_vm.availableThemes),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('div',{style:({ fontSize: _vm.selectedFontSize + 'px' })},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Page.content),expression:\"Page.content\"}],attrs:{\"id\":\"pageEditorTextarea\"},domProps:{\"value\":(_vm.Page.content)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.Page, \"content\", $event.target.value)},_vm.updateChanges]}})])]):_vm._e()])]),_vm._v(\" \"),(!_vm.showNewPageInfo)?_c('div',{class:{ 'column': true, 'is-6': (_vm.editor || _vm.frontmatter) && _vm.preview, 'is-11': !_vm.editor && !_vm.frontmatter, 'is-1': (_vm.editor || _vm.frontmatter) && !_vm.preview}},[_c('div',{staticClass:\"box details\"},[_c('div',{staticClass:\"box-title\"},[_c('i',{class:{'active':_vm.preview, 'icon':true, 'ion-md-arrow-dropright-circle':_vm.preview, 'ion-md-arrow-dropleft-circle': !_vm.preview},on:{\"click\":function($event){_vm.preview = !_vm.preview}}}),_vm._v(\"\\n\\t\\t  \\t\\t\\tPreview\\n            \"),(!_vm.editor && !_vm.frontmatter)?_c('span',[_vm._v(\"(Desktop)\")]):_c('span',[_vm._v(\"(Mobile)\")])]),_vm._v(\" \"),(_vm.Page)?_c('div',{staticClass:\"box-content\"},[_c('iframe',{staticClass:\"previewIframe\",attrs:{\"id\":\"previewIframe\"}})]):_vm._e()])]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82a74f48\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-82a74f48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-82a74f48\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-82a74f48\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}